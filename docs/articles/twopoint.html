<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Two-point analyses • respR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Two-point analyses">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">respR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../articles/respR.html">Getting Started</a>
</li>
<li>
  <a href="../reference/index.html">List of Functions</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Documentation
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/importing.html">Importing your data</a>
    </li>
    <li>
      <a href="../articles/auto_rate.html">auto_rate: Automatic detection of linear rates</a>
    </li>
    <li>
      <a href="../articles/closed.html">Closed-chamber respirometry</a>
    </li>
    <li>
      <a href="../articles/intermittent.html">Intermittent-flow respirometry: Simple example</a>
    </li>
    <li>
      <a href="../articles/intermittent2.html">Intermittent-flow respirometry: Complex example</a>
    </li>
    <li>
      <a href="../articles/flowthrough.html">Flowthrough respirometry</a>
    </li>
    <li>
      <a href="../articles/pcrit.html">Pcrit analysis</a>
    </li>
    <li>
      <a href="../articles/twopoint.html">Two-point analysis</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Discussion
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/auto_rate_performance.html">auto_rate: Performance in detecting linear regions</a>
    </li>
    <li>
      <a href="../articles/auto_rate_comp.html">auto_rate: Comparisons with LoLinR</a>
    </li>
    <li>
      <a href="../articles/packages_comp.html">respR: Comparisons with other R packages</a>
    </li>
    <li>
      <a href="../articles/tidyverse.html">respR: Integration with the tidyverse</a>
    </li>
    <li>
      <a href="../articles/reproducibility.html">respR: Reporting reproducible analyses</a>
    </li>
    <li>
      <a href="../articles/usage.html">respR: When to use respR</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/januarharianto/respr">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="twopoint_files/header-attrs-2.1/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Two-point analyses</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/januarharianto/respr/blob/master/vignettes/twopoint.Rmd"><code>vignettes/twopoint.Rmd</code></a></small>
      <div class="hidden name"><code>twopoint.Rmd</code></div>

    </div>

    
    
<p>Best practice in respirometry is almost always to use linear regression on multiple time-series recordings of oxygen concentrations, to derive a slope and thus rate of oxygen use. Technically, an overall rate between any two timepoints can be calculated using only two O<sub>2</sub> datapoints if they are accurate recordings, and in the past “<em>closed-bottle</em>” respirometry was common, where only the initial and final oxygen concentrations were recorded. However, in the modern day, there is little excuse for not using continuous data. Using only two values gives no information about how rates of use may have fluctutated, and are also obviously highly sensitive to error and inaccurate recordings. Therefore rates determined using this method are unsafe.</p>
<p>For some applications however, there may be valid reasons for using only two datapoints of oxygen concentration separated by a known time period to calculate a rate. This could be in cases of periodic and irregular oxygen monitoring or sampling in the field, or alternatively where the investigator is not interested in oxygen uptake rates <em>per se</em>, but rather in total oxygen flux over a time period. An example of this is in respirometry studies of sediment communities, where oxygen flux is correlated with transport of other chemicals or nutrients (e.g. Smith Jr. 1987). In such cases, even if continuous data exist, fitting a linear regression to these data may not give the correct information the investigator wants. This is particularly the case where oxygen or oxygen use fluctuates significantly over the time period of the experiment, such as with a diurnal rhythm. In such cases linear regressions may be significantly skewed.</p>
<p><code>respR</code> has the ability to calculate two-point rates. While we strongly recommend it not be used for analysis of data from any laboratory based studies looking at organismal metabolic rates, we have kept the functionality intact for the above use-cases, and for analysis of historical <em>closed-bottle</em> respirometry data.</p>
<div id="two-point-data" class="section level2">
<h2 class="hasAnchor">
<a href="#two-point-data" class="anchor"></a>Two-point data</h2>
<p>Simple two-point data can be entered into <code>calc.rate</code> in a 2x2 data frame (here created via typical R syntax):</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a>two_pt_data &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span>(<span class="dt">time =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dv">0</span>, <span class="dv">10</span>), <span class="dt">o2 =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">8.5</span>, <span class="fl">6.3</span>))</span>
<span id="cb1-2"><a href="#cb1-2"></a>two_pt_data</span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="co">#&gt;   time  o2</span></span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="co">#&gt; 1    0 8.5</span></span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="co">#&gt; 2   10 6.3</span></span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>two_pt_result &lt;-<span class="st"> </span><span class="kw"><a href="../reference/calc_rate.html">calc_rate</a></span>(two_pt_data)</span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="kw"><a href="https://rdrr.io/r/base/summary.html">summary</a></span>(two_pt_result)</span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="co">#&gt; Summary:</span></span>
<span id="cb2-4"><a href="#cb2-4"></a><span class="co">#&gt;    intercept_b0 rate_b1 rsq row endrow time endtime oxy endoxy rowlength</span></span>
<span id="cb2-5"><a href="#cb2-5"></a><span class="co">#&gt; 1:          8.5   -0.22   1   1      2    0      10 8.5    6.3         1</span></span>
<span id="cb2-6"><a href="#cb2-6"></a><span class="co">#&gt;    timelength rate_twopoint</span></span>
<span id="cb2-7"><a href="#cb2-7"></a><span class="co">#&gt; 1:         10         -0.22</span></span></code></pre></div>
<p>The two-point rate can be seen at the end of the summary object. With only two datapoints, it will obviously be equal to the rate in the linear regression method. However, it can be extracted directly:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>two_pt_result<span class="op">$</span>rate_2pt</span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="co">#&gt; [1] -0.22</span></span></code></pre></div>
</div>
<div id="processing-two-point-rates" class="section level2">
<h2 class="hasAnchor">
<a href="#processing-two-point-rates" class="anchor"></a>Processing two-point rates</h2>
<p>Two-point rates can be passed to <code><a href="../reference/adjust_rate.html">adjust_rate()</a></code> for background corrections, and <code>convert_rate</code> for conversion to the desired output units. However, if using an object of class <code>calc_rate</code> they must be specifically called using <code>$rate_2pt</code> or, by default, the adjustment or conversion will operate on the linear regression derived rate.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="kw"><a href="../reference/adjust_rate.html">adjust_rate</a></span>(two_pt_result<span class="op">$</span>rate_2pt, <span class="dt">by =</span> <span class="fl">-0.001</span>)</span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="co">#&gt; </span></span>
<span id="cb4-3"><a href="#cb4-3"></a><span class="co">#&gt; Rate adjustments applied. Use print() command for more info.</span></span>
<span id="cb4-4"><a href="#cb4-4"></a><span class="co">#&gt; </span></span>
<span id="cb4-5"><a href="#cb4-5"></a><span class="co">#&gt; # adjust_rate # -------------------------</span></span>
<span id="cb4-6"><a href="#cb4-6"></a><span class="co">#&gt; Note: please consider the sign of the value while correcting the rate.</span></span>
<span id="cb4-7"><a href="#cb4-7"></a><span class="co">#&gt; </span></span>
<span id="cb4-8"><a href="#cb4-8"></a><span class="co">#&gt; Rank/position 1 result shown. To see all results use summary().</span></span>
<span id="cb4-9"><a href="#cb4-9"></a><span class="co">#&gt; Input rate: -0.22</span></span>
<span id="cb4-10"><a href="#cb4-10"></a><span class="co">#&gt; Adjustment: -0.001</span></span>
<span id="cb4-11"><a href="#cb4-11"></a><span class="co">#&gt; Adj. rate: -0.219</span></span>
<span id="cb4-12"><a href="#cb4-12"></a></span>
<span id="cb4-13"><a href="#cb4-13"></a><span class="kw"><a href="../reference/convert_rate.html">convert_rate</a></span>(two_pt_result<span class="op">$</span>rate_2pt, <span class="dt">o2.unit =</span> <span class="st">"mg/L"</span>, <span class="dt">time.unit =</span> <span class="st">"h"</span>, <span class="dt">output.unit =</span> <span class="st">"mg/h/g"</span>, </span>
<span id="cb4-14"><a href="#cb4-14"></a>    <span class="dt">volume =</span> <span class="dv">25</span>, <span class="dt">mass =</span> <span class="fl">0.2</span>)</span>
<span id="cb4-15"><a href="#cb4-15"></a><span class="co">#&gt; </span></span>
<span id="cb4-16"><a href="#cb4-16"></a><span class="co">#&gt; # convert_rate # ------------------------</span></span>
<span id="cb4-17"><a href="#cb4-17"></a><span class="co">#&gt; Rank/position 1 result shown. To see all results use summary().</span></span>
<span id="cb4-18"><a href="#cb4-18"></a><span class="co">#&gt; Input:</span></span>
<span id="cb4-19"><a href="#cb4-19"></a><span class="co">#&gt; [1] -0.22</span></span>
<span id="cb4-20"><a href="#cb4-20"></a><span class="co">#&gt; [1] "mg/L" "hour"</span></span>
<span id="cb4-21"><a href="#cb4-21"></a><span class="co">#&gt; Converted:</span></span>
<span id="cb4-22"><a href="#cb4-22"></a><span class="co">#&gt; [1] -0.0275</span></span>
<span id="cb4-23"><a href="#cb4-23"></a><span class="co">#&gt; [1] "mg/hour/g"</span></span></code></pre></div>
<p>The rate can alternatively be entered manually:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="kw"><a href="../reference/convert_rate.html">convert_rate</a></span>(<span class="op">-</span><span class="fl">0.0224</span>, <span class="dt">o2.unit =</span> <span class="st">"mg/L"</span>, <span class="dt">time.unit =</span> <span class="st">"h"</span>, <span class="dt">output.unit =</span> <span class="st">"mg/h/g"</span>, </span>
<span id="cb5-2"><a href="#cb5-2"></a>    <span class="dt">volume =</span> <span class="dv">25</span>, <span class="dt">mass =</span> <span class="fl">0.2</span>)</span>
<span id="cb5-3"><a href="#cb5-3"></a><span class="co">#&gt; </span></span>
<span id="cb5-4"><a href="#cb5-4"></a><span class="co">#&gt; # convert_rate # ------------------------</span></span>
<span id="cb5-5"><a href="#cb5-5"></a><span class="co">#&gt; Rank/position 1 result shown. To see all results use summary().</span></span>
<span id="cb5-6"><a href="#cb5-6"></a><span class="co">#&gt; Input:</span></span>
<span id="cb5-7"><a href="#cb5-7"></a><span class="co">#&gt; [1] -0.0224</span></span>
<span id="cb5-8"><a href="#cb5-8"></a><span class="co">#&gt; [1] "mg/L" "hour"</span></span>
<span id="cb5-9"><a href="#cb5-9"></a><span class="co">#&gt; Converted:</span></span>
<span id="cb5-10"><a href="#cb5-10"></a><span class="co">#&gt; [1] -0.0028</span></span>
<span id="cb5-11"><a href="#cb5-11"></a><span class="co">#&gt; [1] "mg/hour/g"</span></span></code></pre></div>
<div id="references" class="section level3">
<h3 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h3>
<p>Smith Jr, K L. 1987. Food energy supply and demand: A discrepancy between particulate organic carbon flux and sediment community oxygen consumption in the deep ocean. Limnology and Oceanography 32(1).</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#two-point-data">Two-point data</a></li>
      <li><a href="#processing-two-point-rates">Processing two-point rates</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Januar Harianto, Nicholas Carey.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
