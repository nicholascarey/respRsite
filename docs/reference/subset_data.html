<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Truncate a data frame or `inspect()`` object to create a subset of the data — subset_data • respR</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Truncate a data frame or `inspect()`` object to create a subset of the data — subset_data" />
<meta property="og:description" content="This function subsets a data frame or inspect() object based on a given set
of rules. It can subset data based on ranges of: time, oxygen, row number, or
proportion of total oxygen used. For data frames, to subset by 'time', 'o2',
or 'proportion', the time data is assumed to be in the first column, and
oxygen in the second column. For inspect() objects, the data will have been
coerced to this structure already. The function can subset any data frame
by 'row'." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">respR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../articles/respR.html">Getting Started</a>
</li>
<li>
  <a href="../reference/index.html">List of Functions</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Documentation
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/importing.html">Importing your data</a>
    </li>
    <li>
      <a href="../articles/auto_rate.html">auto_rate: Automatic detection of linear rates</a>
    </li>
    <li>
      <a href="../articles/closed.html">Closed-chamber respirometry</a>
    </li>
    <li>
      <a href="../articles/intermittent.html">Intermittent-flow respirometry: Simple example</a>
    </li>
    <li>
      <a href="../articles/intermittent2.html">Intermittent-flow respirometry: Complex example</a>
    </li>
    <li>
      <a href="../articles/flowthrough.html">Flowthrough respirometry</a>
    </li>
    <li>
      <a href="../articles/pcrit.html">Pcrit analysis</a>
    </li>
    <li>
      <a href="../articles/twopoint.html">Two-point analysis</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Discussion
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/performance.html">auto_rate: Performance in detecting linear regions</a>
    </li>
    <li>
      <a href="../articles/auto_rate_comp.html">auto_rate: Comparisons with LoLinR</a>
    </li>
    <li>
      <a href="../articles/packages_comp.html">respR: Comparisons with other R packages</a>
    </li>
    <li>
      <a href="../articles/tidyverse.html">respR: Integration with the tidyverse</a>
    </li>
    <li>
      <a href="../articles/reproducibility.html">respR: Reporting reproducible analyses</a>
    </li>
    <li>
      <a href="../articles/usage.html">respR: When to use respR</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/januarharianto/respr">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Truncate a data frame or `inspect()`` object to create a subset of the data</h1>
    <small class="dont-index">Source: <a href='https://github.com/januarharianto/respr/blob/master/R/subset_data.R'><code>R/subset_data.R</code></a></small>
    <div class="hidden name"><code>subset_data.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function subsets a data frame or <code><a href='inspect.html'>inspect()</a></code> object based on a given set
of rules. It can subset data based on ranges of: time, oxygen, row number, or
proportion of total oxygen used. For data frames, to subset by 'time', 'o2',
or 'proportion', the time data is assumed to be in the first column, and
oxygen in the second column. For <code><a href='inspect.html'>inspect()</a></code> objects, the data will have been
coerced to this structure already. The function can subset <strong>any</strong> data frame
by 'row'.</p>
    </div>

    <pre class="usage"><span class='fu'>subset_data</span>(<span class='no'>x</span>, <span class='no'>from</span>, <span class='no'>to</span>, <span class='kw'>by</span> <span class='kw'>=</span> <span class='st'>"time"</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>data frame or <code>inspect</code> object. The data to subset.</p></td>
    </tr>
    <tr>
      <th>from</th>
      <td><p>numeric. Defines the lower bound(s) of the data to subset.
Subsetting is based on the argument: <code>by</code>.</p></td>
    </tr>
    <tr>
      <th>to</th>
      <td><p>numeric. Defines the upper bound(s) of the data to subset.
Subsetting is based on the argument: <code>by</code>.</p></td>
    </tr>
    <tr>
      <th>by</th>
      <td><p>string. "time", "row", "o2" or "proportion".</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A <code>data.table</code> or <code>inspect</code> object.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>For multiple column data frames, such as with time in column 1, and multiple
columns of oxygen data, the subset object will include <em>all</em> columns. In the
case of subsetting <code>by = "o2"</code>, subsetting is based on the first column of
oxygen data (i.e. column 2), and all subsequent columns are subset between
the same rows regardless of oxygen values.</p>
<p>This function is ideal for passing only some regions of your data to other
functions such as <code>auto_rate</code>, either by resaving them as a new object or
through the use of pipes (<code>%&gt;%</code>). It is also ideal for use with
intermittent-flow data in loops, where each replicate can be extracted and
passed to an analytical function such as <code>calc_rate</code> or <code>auto_rate</code>. See
examples and vignettes.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Subset by time:</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='st'>"squid.rd"</span>)
<span class='no'>x</span> <span class='kw'>&lt;-</span> <span class='fu'>subset_data</span>(<span class='no'>squid.rd</span>, <span class='kw'>from</span> <span class='kw'>=</span> <span class='fl'>2000</span>, <span class='kw'>to</span> <span class='kw'>=</span> <span class='fl'>4000</span>, <span class='kw'>by</span> <span class='kw'>=</span> <span class='st'>"time"</span>)</div><div class='output co'>#&gt; 
#&gt; # subset_data # -------------------------
#&gt; Original data:
#&gt;         Time       o2
#&gt;     1:     0 7.726446
#&gt;     2:     1 7.726446
#&gt;    ---               
#&gt; 34119: 34118 1.231048
#&gt; 34120: 34119 1.231048
#&gt; 
#&gt; New data:
#&gt;       Time       o2
#&gt;    1: 2000 7.102823
#&gt;    2: 2001 7.102823
#&gt;   ---              
#&gt; 2000: 3999 6.479200
#&gt; 2001: 4000 6.479200</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/graphics/plot.html'>plot</a></span>(<span class='no'>x</span>)</div><div class='img'><img src='subset_data-1.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='st'>"flowthrough.rd"</span>)
<span class='fu'>subset_data</span>(<span class='no'>flowthrough.rd</span>, <span class='kw'>from</span> <span class='kw'>=</span> <span class='fl'>50</span>, <span class='kw'>to</span> <span class='kw'>=</span> <span class='fl'>600</span>, <span class='kw'>by</span> <span class='kw'>=</span> <span class='st'>"time"</span>)</div><div class='output co'>#&gt; 
#&gt; # subset_data # -------------------------
#&gt; Original data:
#&gt;      time   o2.out    o2.in  o2.delta
#&gt;   1:    0 8.169730 8.879693 0.7099636
#&gt;   2:    1 8.170744 8.884703 0.7139588
#&gt;  ---                                 
#&gt; 934:  933 8.167505 8.887132 0.7196268
#&gt; 935:  934 8.165069 8.864456 0.6993879
#&gt; 
#&gt; New data:
#&gt;      time   o2.out    o2.in  o2.delta
#&gt;   1:   50 8.175106 8.891686 0.7165791
#&gt;   2:   51 8.185150 8.875577 0.6904272
#&gt;  ---                                 
#&gt; 550:  599 8.176023 8.875059 0.6990357
#&gt; 551:  600 8.166706 8.874728 0.7080218</div><div class='input'>
<span class='co'># Subset by O_2:</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='st'>"sardine.rd"</span>)
<span class='fu'>subset_data</span>(<span class='no'>sardine.rd</span>, <span class='kw'>from</span> <span class='kw'>=</span> <span class='fl'>94</span>, <span class='kw'>to</span> <span class='kw'>=</span> <span class='fl'>91</span>, <span class='kw'>by</span> <span class='kw'>=</span> <span class='st'>"o2"</span>)</div><div class='output co'>#&gt; 
#&gt; # subset_data # -------------------------
#&gt; Original data:
#&gt;       Time Oxygen
#&gt;    1:    0   95.6
#&gt;    2:    1   95.6
#&gt;   ---            
#&gt; 7512: 7511   90.2
#&gt; 7513: 7512   90.3
#&gt; 
#&gt; New data:
#&gt;       Time Oxygen
#&gt;    1: 1458   94.0
#&gt;    2: 1459   94.2
#&gt;   ---            
#&gt; 4153: 5610   91.3
#&gt; 4154: 5611   91.0</div><div class='input'>
<span class='co'># Subset by proportion of total oxygen used:</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='st'>"sardine.rd"</span>)
<span class='fu'>subset_data</span>(<span class='no'>sardine.rd</span>, <span class='kw'>from</span> <span class='kw'>=</span> <span class='fl'>0.8</span>, <span class='kw'>to</span> <span class='kw'>=</span> <span class='fl'>0.4</span>, <span class='kw'>by</span> <span class='kw'>=</span> <span class='st'>"proportion"</span>)</div><div class='output co'>#&gt; 
#&gt; # subset_data # -------------------------
#&gt; Original data:
#&gt;       Time Oxygen
#&gt;    1:    0   95.6
#&gt;    2:    1   95.6
#&gt;   ---            
#&gt; 7512: 7511   90.2
#&gt; 7513: 7512   90.3
#&gt; 
#&gt; New data:
#&gt;       Time Oxygen
#&gt;    1:  993   94.5
#&gt;    2:  994   94.7
#&gt;   ---            
#&gt; 3072: 4064   92.2
#&gt; 3073: 4065   92.1</div><div class='input'>
<span class='co'># Subset by row:</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='st'>"flowthrough.rd"</span>)
<span class='fu'>subset_data</span>(<span class='no'>flowthrough.rd</span>, <span class='kw'>from</span> <span class='kw'>=</span> <span class='fl'>10</span>, <span class='kw'>to</span> <span class='kw'>=</span> <span class='fl'>750</span>, <span class='kw'>by</span> <span class='kw'>=</span> <span class='st'>"row"</span>)</div><div class='output co'>#&gt; 
#&gt; # subset_data # -------------------------
#&gt; Original data:
#&gt;      time   o2.out    o2.in  o2.delta
#&gt;   1:    0 8.169730 8.879693 0.7099636
#&gt;   2:    1 8.170744 8.884703 0.7139588
#&gt;  ---                                 
#&gt; 934:  933 8.167505 8.887132 0.7196268
#&gt; 935:  934 8.165069 8.864456 0.6993879
#&gt; 
#&gt; New data:
#&gt;      time   o2.out    o2.in  o2.delta
#&gt;   1:    9 8.179554 8.876309 0.6967551
#&gt;   2:   10 8.173299 8.890710 0.7174111
#&gt;  ---                                 
#&gt; 740:  748 8.180551 8.861813 0.6812617
#&gt; 741:  749 8.195288 8.892014 0.6967263</div><div class='input'>
<span class='co'># Pass (via piping) only part of a dataset to auto_rate</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='st'>"sardine.rd"</span>)
<span class='fu'>subset_data</span>(<span class='no'>sardine.rd</span>, <span class='kw'>from</span> <span class='kw'>=</span> <span class='fl'>94</span>, <span class='kw'>to</span> <span class='kw'>=</span> <span class='fl'>91</span>, <span class='kw'>by</span> <span class='kw'>=</span> <span class='st'>"o2"</span>) <span class='kw'>%&gt;%</span>
<span class='fu'><a href='auto_rate.html'>auto_rate</a></span>()</div><div class='output co'>#&gt; 
#&gt; # subset_data # -------------------------
#&gt; Original data:
#&gt;       Time Oxygen
#&gt;    1:    0   95.6
#&gt;    2:    1   95.6
#&gt;   ---            
#&gt; 7512: 7511   90.2
#&gt; 7513: 7512   90.3
#&gt; 
#&gt; New data:
#&gt;       Time Oxygen
#&gt;    1: 1458   94.0
#&gt;    2: 1459   94.2
#&gt;   ---            
#&gt; 4153: 5610   91.3
#&gt; 4154: 5611   91.0</div><div class='output co'>#&gt; <span class='message'></span>
#&gt; <span class='message'>14 kernel density peaks detected and ranked.</span></div><div class='img'><img src='subset_data-2.png' alt='' width='700' height='433' /></div><div class='output co'>#&gt; 
#&gt; # auto_rate # ---------------------------
#&gt; Data is subset by row using width of 747 
#&gt; Rates were computed using 'linear' method
#&gt; 14 linear regions detected in the kernel density estimate
#&gt; 
#&gt; Rank 1 of 14 :
#&gt; Rate: -0.0006902512 
#&gt; R.sq: 0.985 
#&gt; Rows: 581 to 3880 
#&gt; Time: 2038 to 5337 </div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Januar Harianto, Nicholas Carey.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


