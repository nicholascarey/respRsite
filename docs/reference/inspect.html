<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Check for common errors in respirometry data — inspect • respR</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Check for common errors in respirometry data — inspect" />
<meta property="og:description" content="inspect() scans and subsets a data.frame object for errors that may affect
the use of various functions in respR. By default, the function scans only
the first 2 columns of a data frame and assumes that the first column is time
data. A plot of the data is also produced, including a rolling regression
plot using a width of floor(0.1 * nrow([data frame]) for a quick visual
inspection of the rate pattern (or stability) of the data. Note that rates
for oxygen uptake are returned as negative and plotted on a reverse axis;
higher oxygen uptake rates are higher on the rate plot (more negative)." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">respR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../articles/respR.html">Getting Started</a>
</li>
<li>
  <a href="../reference/index.html">List of Functions</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Documentation
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/importing.html">Importing your data</a>
    </li>
    <li>
      <a href="../articles/auto_rate.html">auto_rate: Automatic detection of linear rates</a>
    </li>
    <li>
      <a href="../articles/closed.html">Closed-chamber respirometry</a>
    </li>
    <li>
      <a href="../articles/intermittent.html">Intermittent-flow respirometry: Simple example</a>
    </li>
    <li>
      <a href="../articles/intermittent2.html">Intermittent-flow respirometry: Complex example</a>
    </li>
    <li>
      <a href="../articles/flowthrough.html">Flowthrough respirometry</a>
    </li>
    <li>
      <a href="../articles/pcrit.html">Pcrit analysis</a>
    </li>
    <li>
      <a href="../articles/twopoint.html">Two-point analysis</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Discussion
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/auto_rate_performance.html">auto_rate: Performance in detecting linear regions</a>
    </li>
    <li>
      <a href="../articles/auto_rate_comp.html">auto_rate: Comparisons with LoLinR</a>
    </li>
    <li>
      <a href="../articles/packages_comp.html">respR: Comparisons with other R packages</a>
    </li>
    <li>
      <a href="../articles/tidyverse.html">respR: Integration with the tidyverse</a>
    </li>
    <li>
      <a href="../articles/reproducibility.html">respR: Reporting reproducible analyses</a>
    </li>
    <li>
      <a href="../articles/usage.html">respR: When to use respR</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/januarharianto/respr/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Check for common errors in respirometry data</h1>
    <small class="dont-index">Source: <a href='https://github.com/januarharianto/respr/blob/master/R/inspect.R'><code>R/inspect.R</code></a></small>
    <div class="hidden name"><code>inspect.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>inspect()</code> scans and subsets a data.frame object for errors that may affect
the use of various functions in <code>respR</code>. By default, the function scans only
the first 2 columns of a data frame and assumes that the first column is time
data. A plot of the data is also produced, including a rolling regression
plot using a width of <code>floor(0.1 * nrow([data frame])</code> for a quick visual
inspection of the rate pattern (or stability) of the data. Note that rates
for oxygen uptake are returned as negative and plotted on a reverse axis;
higher oxygen uptake rates are higher on the rate plot (more negative).</p>
    </div>

    <pre class="usage"><span class='fu'>inspect</span><span class='op'>(</span><span class='va'>df</span>, time <span class='op'>=</span> <span class='cn'>NULL</span>, oxygen <span class='op'>=</span> <span class='cn'>NULL</span>, plot <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>df</th>
      <td><p>data.frame object. Accepts any object of class <code>data.frame</code>.</p></td>
    </tr>
    <tr>
      <th>time</th>
      <td><p>numeric vector. Defaults to NULL. This specifies the column
number(s) of the time data to subset.</p></td>
    </tr>
    <tr>
      <th>oxygen</th>
      <td><p>numeric vector. Defaults to NULL. This specifies the column
number(s) of the oxygen data to subset.</p></td>
    </tr>
    <tr>
      <th>plot</th>
      <td><p>logical. Defaults to TRUE. Plots the data for quick visual
diagnosis. Works only when the subset dataframe contains exactly 2 columns.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A list object of class <code>inspect</code>.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Time columns are checked for NA/NaN values, sequential time, duplicate time
and evenly-spaced time data. Oxygen columns are simply checked for NA/NaN
data. Once data checks are complete, the function produces a list object
which may be directly loaded into <code><a href='calc_rate.html'>calc_rate()</a></code>, <code><a href='calc_rate.bg.html'>calc_rate.bg()</a></code>,
<code><a href='calc_rate.ft.html'>calc_rate.ft()</a></code>, and <code><a href='auto_rate.html'>auto_rate()</a></code> for further analyses.</p>
<p>If you wish to scan more than two columns, you can do so by specifying the
<code>time</code> and <code>oxygen</code> arguments to select specific columns of a large data
frame. However, the function will not produce a plot. Thus, you may inspect
flowthrough respirometry data, which usually contains oxygen values for
inflow and outflow, by specifying a vector of column numbers, e.g. <code>oxygen = c(2,3)</code>.</p>
    <h2 class="hasAnchor" id="failed-checks"><a class="anchor" href="#failed-checks"></a>Failed Checks</h2>

    <p>It should be noted most of these checks are for
exploratory purposes only; they help diagnose potential issues with the
data. For instance, very long experiments could have had sensor dropouts
the user is completely unaware of. Other issues are not issues at all - for
instance, an uneven time warning can result from using decimalised minutes,
which is a completely valid time metric.</p>
<p>If some of these checks fail, it should generally not hinder analysis of
the data. respR has been coded to rely on linear regression on exact data
values, and not make assumptions about data spacing. Therefore issues such
as missing or NA/NaN values, duplicate values, or uneven time spacing
should not cause any erroneous results, as long as they do not occur over
large regions of the data. The only major potential issue is if time data
are not sequential. This could cause unknown results and incorrect rates to
be returned.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># automatically inspect first 2 columns:</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='st'>"sardine.rd"</span><span class='op'>)</span>
<span class='fu'>inspect</span><span class='op'>(</span><span class='va'>sardine.rd</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>inspect: Applying column default of 'time = 1'</span></div><div class='output co'>#&gt; <span class='message'>inspect: Applying column default of 'oxygen = 2'</span></div><div class='output co'>#&gt; <span class='message'>inspect: No issues detected while inspecting data frame.</span></div><div class='img'><img src='inspect-1.png' alt='' width='700' height='433' /></div><div class='output co'>#&gt; 
#&gt; # print.inspect # -----------------------
#&gt;               Time Oxygen
#&gt; NA/NAN        pass   pass
#&gt; sequential    pass      -
#&gt; duplicated    pass      -
#&gt; evenly-spaced pass      -
#&gt; 
#&gt; -----------------------------------------</div><div class='input'>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='st'>"urchins.rd"</span><span class='op'>)</span>
<span class='fu'>inspect</span><span class='op'>(</span><span class='va'>urchins.rd</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>inspect: Applying column default of 'time = 1'</span></div><div class='output co'>#&gt; <span class='message'>inspect: Applying column default of 'oxygen = 2'</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Time values are not evenly-spaced (numerically).</span></div><div class='output co'>#&gt; <span class='message'>inspect.ft: Data issues detected. For more information use print().</span></div><div class='img'><img src='inspect-2.png' alt='' width='700' height='433' /></div><div class='output co'>#&gt; 
#&gt; # print.inspect # -----------------------
#&gt;               time.min    a
#&gt; NA/NAN            pass pass
#&gt; sequential        pass    -
#&gt; duplicated        pass    -
#&gt; evenly-spaced     WARN    -
#&gt; 
#&gt; Uneven Time data locations (first 20 shown) in column: time.min 
#&gt;  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20
#&gt; Minimum and Maximum intervals in uneven Time data: 
#&gt; [1] 0.1 0.2
#&gt; -----------------------------------------</div><div class='input'>
<span class='co'># inspect specific columns:</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='st'>"urchins.rd"</span><span class='op'>)</span>
<span class='fu'>inspect</span><span class='op'>(</span><span class='va'>urchins.rd</span>, time <span class='op'>=</span> <span class='fl'>1</span>, oxygen <span class='op'>=</span> <span class='fl'>4</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='warning'>Warning: Time values are not evenly-spaced (numerically).</span></div><div class='output co'>#&gt; <span class='message'>inspect.ft: Data issues detected. For more information use print().</span></div><div class='img'><img src='inspect-3.png' alt='' width='700' height='433' /></div><div class='output co'>#&gt; 
#&gt; # print.inspect # -----------------------
#&gt;               time.min    c
#&gt; NA/NAN            pass pass
#&gt; sequential        pass    -
#&gt; duplicated        pass    -
#&gt; evenly-spaced     WARN    -
#&gt; 
#&gt; Uneven Time data locations (first 20 shown) in column: time.min 
#&gt;  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20
#&gt; Minimum and Maximum intervals in uneven Time data: 
#&gt; [1] 0.1 0.2
#&gt; -----------------------------------------</div><div class='input'>
<span class='co'># inspect multiple columns</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='st'>"urchins.rd"</span><span class='op'>)</span>
<span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fu'>inspect</span><span class='op'>(</span><span class='va'>urchins.rd</span>, time <span class='op'>=</span> <span class='fl'>1</span>, oxygen <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>2</span><span class='op'>:</span><span class='fl'>12</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>inspect: Multiple 'oxygen' columns selected. Note that subsequent functions in respR will by default use first oxygen column only.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Time values are not evenly-spaced (numerically).</span></div><div class='output co'>#&gt; <span class='message'>inspect.ft: Data issues detected. For more information use print().</span></div><div class='output co'>#&gt; <span class='message'>inspect: Rolling Regression plot is only avalilable for a 2-column dataframe output.</span></div><div class='img'><img src='inspect-4.png' alt='' width='700' height='433' /></div><div class='output co'>#&gt; 
#&gt; # print.inspect # -----------------------
#&gt;               time.min    a    b    c    d    e    f    g    h    i    j    k
#&gt; NA/NAN            pass pass pass pass pass pass pass pass pass pass pass pass
#&gt; sequential        pass    -    -    -    -    -    -    -    -    -    -    -
#&gt; duplicated        pass    -    -    -    -    -    -    -    -    -    -    -
#&gt; evenly-spaced     WARN    -    -    -    -    -    -    -    -    -    -    -
#&gt; 
#&gt; Uneven Time data locations (first 20 shown) in column: time.min 
#&gt;  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20
#&gt; Minimum and Maximum intervals in uneven Time data: 
#&gt; [1] 0.1 0.2
#&gt; -----------------------------------------</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>
</div><div class='output co'>#&gt; 
#&gt; # print.inspect # -----------------------
#&gt;               time.min    a    b    c    d    e    f    g    h    i    j    k
#&gt; NA/NAN            pass pass pass pass pass pass pass pass pass pass pass pass
#&gt; sequential        pass    -    -    -    -    -    -    -    -    -    -    -
#&gt; duplicated        pass    -    -    -    -    -    -    -    -    -    -    -
#&gt; evenly-spaced     WARN    -    -    -    -    -    -    -    -    -    -    -
#&gt; 
#&gt; Uneven Time data locations (first 20 shown) in column: time.min 
#&gt;  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20
#&gt; Minimum and Maximum intervals in uneven Time data: 
#&gt; [1] 0.1 0.2
#&gt; -----------------------------------------</div><div class='input'><span class='va'>x</span><span class='op'>$</span><span class='va'>list</span><span class='op'>$</span><span class='va'>time.min</span>  <span class='co'># check position of errors in data frame</span>
</div><div class='output co'>#&gt; NULL</div><div class='input'>
<span class='co'># inspect flowthrough data</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='st'>"flowthrough.rd"</span><span class='op'>)</span>
<span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fu'>inspect</span><span class='op'>(</span><span class='va'>flowthrough.rd</span>, <span class='fl'>1</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>2</span>,<span class='fl'>3</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>inspect: Multiple 'oxygen' columns selected. Note that subsequent functions in respR will by default use first oxygen column only.</span></div><div class='output co'>#&gt; <span class='message'>inspect: No issues detected while inspecting data frame.</span></div><div class='output co'>#&gt; <span class='message'>inspect: Rolling Regression plot is only avalilable for a 2-column dataframe output.</span></div><div class='img'><img src='inspect-5.png' alt='' width='700' height='433' /></div><div class='output co'>#&gt; 
#&gt; # print.inspect # -----------------------
#&gt;               time o2.out o2.in
#&gt; NA/NAN        pass   pass  pass
#&gt; sequential    pass      -     -
#&gt; duplicated    pass      -     -
#&gt; evenly-spaced pass      -     -
#&gt; 
#&gt; -----------------------------------------</div><div class='input'><span class='va'>x</span>
</div><div class='output co'>#&gt; 
#&gt; # print.inspect # -----------------------
#&gt;               time o2.out o2.in
#&gt; NA/NAN        pass   pass  pass
#&gt; sequential    pass      -     -
#&gt; duplicated    pass      -     -
#&gt; evenly-spaced pass      -     -
#&gt; 
#&gt; -----------------------------------------</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Januar Harianto, Nicholas Carey.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


